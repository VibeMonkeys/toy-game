# 🎯 게임플레이 시스템

## 📋 문서 정보
- **문서**: 03. 게임플레이 시스템
- **버전**: v1.0
- **최종 수정**: 2025-09-28

---

## 🎮 핵심 게임플레이

### 기본 게임 루프 (30분 사이클)

#### 1단계: 허브 월드 - 영혼 성소 (2-3분)
**위치**: 차원 사이의 영혼 공간
**기능**:
- 소울 포인트로 영구 업그레이드 구매
- 무기 및 스킬 선택 및 변경
- 게임 통계 확인 (총 런 수, 최고 기록 등)
- 다음 도전 준비 및 전략 설정

**상세 활동**:
- **영혼 상인 소울과의 거래**: 업그레이드 구매, 조언 청취
- **무기고 방문**: 해금된 무기 중 선택, 특성 확인
- **스킬 제단**: 해금된 스킬 중 2개 선택 (Q, E키)
- **기록석 확인**: 이전 런 기록, 통계, 업적 확인
- **차원문**: 던전 입장 또는 게임 종료

#### 2단계: 던전 진입 (1분)
**준비 과정**:
- 10개 층 도전 시작 선언
- 시작 층 선택 (해금된 층에서 시작 가능)
- 난이도 선택 옵션 (Normal/Hard 모드)
- 로딩 및 던전 생성 준비

**시작 상태**:
- 기본 체력: 100 + 업그레이드 보너스
- 기본 마나: 30 + 업그레이드 보너스
- 선택한 무기 1개 장착
- 선택한 스킬 2개 세팅
- 기본 포션 3개 소지

#### 3단계: 방 탐험 (20-25분)
**방 유형별 활동**:

**전투방 (60% 확률)**
- 기본 몬스터 1-4마리와 전투
- 다양한 적 조합 (근접/원거리/마법)
- 경험치 및 소울 포인트 획득
- 20% 확률로 랜덤 아이템 드랍

**보물방 (20% 확률)**
- 3개 아이템 중 1개 선택
- 체력/마나 회복 옵션 제공
- 희귀 아이템 등장 가능 (층수에 비례)
- 무료 포션 1-2개 제공

**특수방 (15% 확률)**
- **상점**: 소울 포인트로 아이템 구매
- **제단**: 체력 희생(-20HP)으로 강화 획득
- **퍼즐방**: 간단한 미니게임 (보상: 특수 아이템)
- **휴식방**: 체력/마나 완전 회복

**보스방 (5% 확률)**
- 각 층마다 1개 확정 배치
- 층별 고유 보스와 전투
- 스토리 진행 및 대화
- 대량 소울 포인트 획득 (50-200)
- 다음 층으로 진행 권한

#### 4단계: 죽음 또는 승리 (1분)
**죽음 시**:
- 소울 포인트 획득 (진행도에 비례)
- 영혼 파티클 효과와 함께 승천
- 획득한 소울 포인트 및 통계 표시
- 허브 월드로 자동 이동

**승리 시**:
- 축하 연출 및 최종 보상 획득
- 완주 보너스: 200 소울 포인트
- 새로운 콘텐츠 해금 (New Game+, 하드 모드 등)
- 엔딩 시퀀스 재생

**층 클리어 시**:
- 다음 층 해금
- 중간 보상 획득
- 계속 진행 또는 허브 복귀 선택

#### 5단계: 허브 월드 복귀 (2-3분)
**성장 및 업그레이드**:
- 새로 획득한 소울 포인트 확인
- 업그레이드 우선순위 결정
- 새로운 콘텐츠 해금 확인 (무기, 스킬, 기능)
- 다음 런 전략 수립

**통계 및 기록**:
- 런 기록 저장 (진행 층수, 처치 수, 플레이 시간)
- 개인 최고 기록 갱신 확인
- 업적 달성 여부 확인

---

## ⚔️ 전투 시스템

### 기본 컨트롤

#### 이동 시스템
**조작법**:
- **WASD 키**: 8방향 자유 이동
- **이동 속도**: 120 픽셀/초 (기본) + 업그레이드 보너스
- **즉각 반응**: 키 입력과 동시에 즉시 이동 시작
- **부드러운 이동**: 프레임 간 보간으로 자연스러운 움직임

**충돌 처리**:
- **벽 충돌**: 벽에 닿으면 즉시 정지, 미끄러짐 없음
- **장애물**: 기둥, 바위 등 환경 오브젝트와의 충돌
- **적 충돌**: 적과 겹치지 않음, 밀어내기 효과

#### 공격 시스템
**기본 공격**:
- **조작법**: 마우스 왼쪽 클릭
- **연속 공격**: 연속 클릭으로 콤보 가능
- **공격 속도**: 무기별 차이 (검: 1.2초당, 활: 1.5초당)
- **공격 방향**: 마우스 커서 방향으로 공격

**강화 공격**:
- **조작법**: 마우스 오른쪽 클릭 (차지 필요)
- **차지 시간**: 1-2초 (무기별 차이)
- **데미지**: 기본 공격의 1.5-2배
- **특수 효과**: 무기별 고유 효과 (넉백, 관통 등)

**공격 범위**:
- **근접 무기**: 부채꼴 형태 (90도 각도)
- **원거리 무기**: 직선 투사체
- **마법 공격**: 스킬별 고유 범위

#### 방어 및 회피
**대시 시스템**:
- **조작법**: 스페이스바
- **효과**: 0.5초 무적 시간 + 빠른 이동 (200 픽셀/초)
- **거리**: 고정 거리 (80픽셀)
- **쿨다운**: 2초
- **시각 효과**: 잔상 효과와 함께 이동

**완벽한 회피**:
- **조건**: 적의 공격이 닿기 직전(0.1초) 대시 사용
- **보너스**: 2초간 공격속도 +50% 버프
- **시각 효과**: 금색 섬광과 슬로우 모션

#### 스킬 사용
**Q키 - 공격형 스킬**:
- **쿨다운**: 5-8초 (스킬별 차이)
- **마나 소모**: 10-20 MP
- **즉시 발동**: 키 입력과 동시에 즉시 시전

**E키 - 유틸리티 스킬**:
- **쿨다운**: 8-12초 (스킬별 차이)
- **마나 소모**: 15-25 MP
- **다양한 효과**: 힐링, 버프, 디버프 등

**R키 - 포션 사용**:
- **즉시 회복**: 체력 50 즉시 회복
- **쿨다운**: 없음 (개수 제한)
- **사용 가능 개수**: 3개 + 업그레이드 보너스

### 무기 시스템 (상세)

#### 검 (밸런스형)
**기본 성능**:
- **데미지**: 15 (기본) + 업그레이드 보너스
- **공격속도**: 1.2초당 (보통)
- **사거리**: 32픽셀 (근접)
- **크리티컬 확률**: 8% (기본)

**특성 및 장점**:
- **연속 콤보**: 3연속 공격 시 마지막 공격 데미지 +50%
- **무난한 성능**: 모든 상황에서 안정적인 성능
- **학습 용이**: 초보자가 사용하기 쉬운 무기
- **범용성**: 근접/원거리 적 모두에게 효과적

**강화 공격**:
- **차지 시간**: 1.5초
- **데미지**: 기본 공격의 2배
- **특수 효과**: 적을 관통하여 뒤의 적까지 타격
- **넉백**: 강력한 넉백으로 적을 밀어냄

#### 단검 (속도형)
**기본 성능**:
- **데미지**: 10 (낮음) + 업그레이드 보너스
- **공격속도**: 2.0초당 (빠름)
- **사거리**: 20픽셀 (짧음)
- **크리티컬 확률**: 15% (높음)

**특성 및 장점**:
- **높은 크리티컬**: 빈번한 치명타로 순간 폭딜
- **빠른 공격**: 높은 DPS로 적 압박
- **이동 중 공격**: 이동하면서도 공격 가능
- **백스탭**: 적의 뒤에서 공격 시 크리티컬 확률 +20%

**강화 공격**:
- **차지 시간**: 1초
- **데미지**: 기본 공격의 1.5배
- **특수 효과**: 3연속 빠른 공격
- **이동**: 공격과 동시에 적 뒤로 순간이동

#### 지팡이 (마법형)
**기본 성능**:
- **데미지**: 12 (중간) + 업그레이드 보너스
- **공격속도**: 1.0초당 (느림)
- **사거리**: 150픽셀 (원거리)
- **크리티컬 확률**: 6% (기본)

**특성 및 장점**:
- **마법 투사체**: 직선으로 날아가는 마법 구체 발사
- **관통 효과**: 투사체가 적을 관통하여 뒤의 적까지 타격
- **안전한 거리**: 원거리에서 안전하게 공격
- **마나 효율**: 마나 소모 없는 기본 공격

**강화 공격**:
- **차지 시간**: 2초
- **데미지**: 기본 공격의 2.5배
- **특수 효과**: 큰 마법 구체, 폭발 범위 데미지
- **마나 소모**: 5 MP

#### 활 (원거리형)
**기본 성능**:
- **데미지**: 14 (중간) + 업그레이드 보너스
- **공격속도**: 1.5초당 (보통)
- **사거리**: 200픽셀 (최장)
- **크리티컬 확률**: 10% (높음)

**특성 및 장점**:
- **최장 사거리**: 가장 안전한 거리에서 공격
- **화살 관통**: 화살이 적을 관통하여 여러 적 동시 타격
- **정확성**: 직선 궤도로 정확한 조준 가능
- **헤드샷**: 적의 머리 부분 타격 시 크리티컬 확률 +15%

**강화 공격**:
- **차지 시간**: 2초
- **데미지**: 기본 공격의 2배
- **특수 효과**: 3발 동시 발사 (부채꼴 형태)
- **관통 강화**: 무한 관통으로 모든 적 타격

#### 망치 (파워형)
**기본 성능**:
- **데미지**: 25 (높음) + 업그레이드 보너스
- **공격속도**: 0.8초당 (느림)
- **사거리**: 28픽셀 (근접)
- **크리티컬 확률**: 5% (낮음)

**특성 및 장점**:
- **높은 데미지**: 단일 공격 최고 데미지
- **광역 공격**: 주변 적들을 동시에 타격
- **강력한 넉백**: 적들을 멀리 밀어내어 안전 확보
- **구조물 파괴**: 벽과 장애물도 파괴 가능

**강화 공격**:
- **차지 시간**: 2.5초
- **데미지**: 기본 공격의 3배
- **특수 효과**: 지진 파동으로 넓은 범위 공격
- **기절**: 맞은 적 2초간 기절

### 스킬 시스템 (상세)

#### 공격형 스킬 (Q키)

##### 파이어볼
**기본 효과**:
- **데미지**: 20 + (공격력 × 1.5)
- **사거리**: 180픽셀
- **투사체 속도**: 150픽셀/초
- **쿨다운**: 5초
- **마나 소모**: 15 MP

**특수 효과**:
- **화염 도트**: 적중 시 3초간 초당 5 데미지
- **적 관통**: 첫 번째 적 관통 후 데미지 50% 감소
- **시각 효과**: 붉은 화염구와 폭발 이펙트

##### 아이스 스파이크
**기본 효과**:
- **데미지**: 25 + (공격력 × 1.8)
- **사거리**: 160픽셀
- **즉시 발동**: 타겟팅된 적에게 즉시 타격
- **쿨다운**: 6초
- **마나 소모**: 18 MP

**특수 효과**:
- **빙결**: 적중 시 2초간 이동속도 50% 감소
- **정밀 타격**: 항상 100% 명중
- **크리티컬 보너스**: 크리티컬 확률 +10%
- **시각 효과**: 얼음 기둥이 솟아오르는 이펙트

##### 라이트닝
**기본 효과**:
- **데미지**: 18 + (공격력 × 1.2)
- **타겟**: 가장 가까운 적 3명 동시 타격
- **즉시 발동**: 타겟팅과 동시에 즉시 타격
- **쿨다운**: 8초
- **마나 소모**: 20 MP

**특수 효과**:
- **연쇄 번개**: 적들 사이로 번개가 연결되어 시전
- **기절**: 0.5초간 적 행동 정지
- **높은 크리티컬**: 크리티컬 확률 +15%
- **시각 효과**: 보라색 번개와 전기 스파크

#### 유틸리티 스킬 (E키)

##### 힐링
**기본 효과**:
- **회복량**: 50 HP (최대 체력의 50%)
- **즉시 회복**: 키 입력과 동시에 즉시 회복
- **쿨다운**: 12초
- **마나 소모**: 25 MP

**특수 효과**:
- **오버힐 방지**: 최대 체력을 초과하여 회복되지 않음
- **치유 오라**: 3초간 초당 5 HP 추가 회복
- **디버프 해제**: 독, 화상 등 모든 디버프 제거
- **시각 효과**: 황금색 치유 파티클

##### 버서커
**기본 효과**:
- **지속 시간**: 10초
- **공격속도**: +100% (2배)
- **이동속도**: +50% (1.5배)
- **쿨다운**: 15초
- **마나 소모**: 30 MP

**특수 효과**:
- **받는 데미지**: +20% (리스크)
- **크리티컬 보너스**: 크리티컬 확률 +10%
- **넉백 면역**: 모든 넉백 효과 무시
- **시각 효과**: 붉은 오라와 분노 파티클

##### 실드
**기본 효과**:
- **보호막**: 30 데미지 흡수
- **지속 시간**: 15초 또는 파괴 시까지
- **쿨다운**: 18초
- **마나 소모**: 20 MP

**특수 효과**:
- **완벽 차단**: 흡수량 내에서 모든 데미지 무효화
- **반사**: 흡수한 데미지의 50%를 공격자에게 반사
- **이동 가능**: 실드 유지 중에도 자유롭게 이동
- **시각 효과**: 파란색 방어막과 반짝임

---

## 🤖 적 AI 및 행동 패턴

### 기본 적 행동 패턴

#### 직선 추적 (Chase)
**적용 적**: 고블린, 오크 워리어
**행동 특성**:
- **탐지 범위**: 120픽셀 반경
- **이동 패턴**: 플레이어를 향해 일직선으로 이동
- **이동 속도**: 80 픽셀/초
- **공격 범위**: 30픽셀

**상세 행동**:
1. **대기 상태**: 제자리에서 좌우로 천천히 이동
2. **탐지**: 플레이어가 범위 내 진입 시 추적 시작
3. **추적**: 플레이어 방향으로 직선 이동
4. **벽 충돌**: 벽에 막히면 1초간 정지 후 재추적
5. **공격**: 사거리 내 진입 시 0.5초 예고 후 공격
6. **공격 후**: 1초 쿨다운 후 다시 추적

**대응 전략**:
- 좌우 이동으로 쉽게 회피 가능
- 벽 근처에서 유인하여 충돌 유도
- 장거리 무기로 안전하게 처치

#### 원형 이동 (Circle)
**적용 적**: 늑대, 스켈레톤 워리어
**행동 특성**:
- **탐지 범위**: 100픽셀 반경
- **이동 패턴**: 플레이어 주변을 원형으로 돌며 접근
- **이동 속도**: 90 픽셀/초
- **공격 범위**: 25픽셀

**상세 행동**:
1. **순찰**: 정해진 경로를 따라 순찰
2. **접근**: 플레이어 발견 시 50픽셀 거리까지 접근
3. **원형 이동**: 플레이어 중심으로 시계방향 또는 반시계방향 회전
4. **방향 전환**: 3초마다 회전 방향 무작위 변경
5. **기습**: 2-4초간 원형 이동 후 갑자기 중앙으로 돌진
6. **후퇴**: 공격 후 다시 원형 궤도로 복귀

**대응 전략**:
- 예측 사격으로 이동 경로 차단
- 대시로 거리 조절하여 공격 타이밍 조절
- 벽 근처에서 원형 이동 방해

#### 원거리 사격 (Ranged)
**적용 적**: 스켈레톤 아처, 고블린 샤먼
**행동 특성**:
- **탐지 범위**: 150픽셀 반경
- **사격 거리**: 120픽셀
- **이동 속도**: 70 픽셀/초 (후퇴 시 100)
- **발사 간격**: 2초

**상세 행동**:
1. **포지셔닝**: 플레이어로부터 적정 거리(100-120픽셀) 유지
2. **조준**: 1초간 플레이어 방향으로 조준 (붉은 조준선 표시)
3. **발사**: 투사체 발사 (속도: 120픽셀/초)
4. **재장전**: 2초 쿨다운
5. **거리 조절**: 플레이어가 너무 가까이 오면 후퇴
6. **도주**: 체력 30% 이하 시 지속적으로 후퇴하며 사격

**대응 전략**:
- 빠른 접근으로 사격 거리 무력화
- 엄폐물 활용하여 투사체 차단
- 대시로 투사체 회피 후 근접

#### 돌진 공격 (Charge)
**적용 적**: 오크 버서커, 미노타우르스
**행동 특성**:
- **탐지 범위**: 100픽셀 반경
- **예고 시간**: 2초 (붉은 빛 효과)
- **돌진 속도**: 200 픽셀/초
- **돌진 거리**: 150픽셀

**상세 행동**:
1. **대기**: 플레이어가 직선상에 위치할 때까지 대기
2. **예고**: 2초간 붉은 오라와 함께 돌진 준비 (이동 불가)
3. **돌진**: 직선으로 빠르게 돌진 (방향 변경 불가)
4. **벽 충돌**: 벽에 부딪히면 2초간 기절
5. **경직**: 돌진 종료 후 1초간 경직
6. **쿨다운**: 5초 후 다시 돌진 가능

**대응 전략**:
- 예고 시간을 활용해 수직으로 회피
- 벽 근처에서 유인하여 충돌 유도
- 경직 시간을 노려 집중 공격

#### 순간이동 기습 (Teleport)
**적용 적**: 그림자 자객, 어둠 마법사
**행동 특성**:
- **탐지 범위**: 전 맵
- **텔레포트 간격**: 5초
- **텔레포트 범위**: 플레이어 40픽셀 근처
- **기습 데미지**: 일반 공격의 1.5배

**상세 행동**:
1. **은신**: 전투 시작 시 투명화 (완전히 보이지 않음)
2. **텔레포트 예고**: 플레이어 근처에 어둠 포탈 생성 (1초)
3. **출현**: 포탈에서 나타나며 즉시 공격
4. **지속 공격**: 2-3회 연속 공격
5. **재은신**: 다시 투명화되어 이동
6. **패턴 반복**: 5초마다 텔레포트 기습 반복

**대응 전략**:
- 포탈 생성을 보고 즉시 대시로 회피
- 출현 직후 0.5초 경직을 노려 반격
- 넓은 공간에서 싸워 회피 공간 확보

#### 히트 앤 런 (Hit and Run)
**적용 적**: 로그 어쌔신, 윈드 엘프
**행동 특성**:
- **접근 속도**: 150 픽셀/초
- **후퇴 속도**: 120 픽셀/초
- **공격 후 대기**: 3-5초
- **패턴 반복**: 지속적으로 반복

**상세 행동**:
1. **대기**: 플레이어로부터 멀리 떨어진 위치에서 대기
2. **빠른 접근**: 지그재그 패턴으로 빠르게 접근
3. **기습 공격**: 1-2회 빠른 공격
4. **즉시 후퇴**: 공격 후 즉시 후퇴하여 거리 확보
5. **대기**: 3-5초간 안전한 거리에서 대기
6. **패턴 반복**: 다시 접근하여 기습

**대응 전략**:
- 후퇴 패턴을 읽고 카운터 어택
- 벽 근처에서 후퇴 경로 차단
- 원거리 무기로 후퇴 중 추격

### 적 능력치 시스템

#### 기본 능력치
**고블린 (1-3층)**:
- **체력**: 25 + (층수 × 3)
- **공격력**: 8 + (층수 × 1)
- **이동속도**: 80 픽셀/초
- **공격속도**: 1.5초당

**오크 (3-6층)**:
- **체력**: 40 + (층수 × 5)
- **공격력**: 12 + (층수 × 2)
- **이동속도**: 70 픽셀/초
- **공격속도**: 2.0초당

**스켈레톤 (4-8층)**:
- **체력**: 30 + (층수 × 4)
- **공격력**: 10 + (층수 × 1.5)
- **이동속도**: 85 픽셀/초
- **공격속도**: 1.8초당

**어둠 계열 (7-10층)**:
- **체력**: 60 + (층수 × 8)
- **공적력**: 15 + (층수 × 3)
- **이동속도**: 90 픽셀/초
- **공격속도**: 1.2초당

#### 스케일링 공식
**층별 능력치 증가**:
- **체력**: 기본값 × (1 + (층수-1) × 0.15)
- **공격력**: 기본값 × (1 + (층수-1) × 0.12)
- **이동속도**: 층수에 관계없이 고정
- **특수 능력**: 고층에서만 해금되는 패턴 추가

---

## 🏰 던전 생성 & 진행 시스템

### 절차적 생성 시스템

#### 층별 구조 설계

**1-2층 (입문 구간)**:
- **방 개수**: 8-10개
- **구조**: 선형에 가까운 단순한 구조
- **분기**: 최대 2개 경로
- **목적**: 조작법 학습 및 시스템 이해

**3-5층 (성장 구간)**:
- **방 개수**: 10-12개
- **구조**: 약간의 분기가 있는 구조
- **분기**: 2-3개 경로, 선택의 여지 제공
- **목적**: 전략적 사고 개발

**6-8층 (도전 구간)**:
- **방 개수**: 12-14개
- **구조**: 복잡한 분기와 우회 경로
- **분기**: 3-4개 경로, 다양한 선택지
- **목적**: 숙련도 테스트 및 전략 개발

**9-10층 (극한 구간)**:
- **방 개수**: 15개
- **구조**: 최대 복잡성, 미로 형태
- **분기**: 4-5개 경로, 최적화 필요
- **목적**: 완전 정복 및 마스터리 증명

#### 방 타입 분포

**전투방 (Combat Room) - 60%**
**구성 요소**:
- **적 배치**: 층수에 따라 1-4마리
- **환경**: 기본 던전 타일, 간단한 장애물
- **보상**: 소울 포인트 + 20% 확률 아이템 드랍

**세부 전투방 종류**:
- **소형 전투방**: 적 1-2마리, 빠른 진행
- **중형 전투방**: 적 2-3마리, 기본 전투
- **대형 전투방**: 적 3-4마리, 도전적 전투
- **엘리트 전투방**: 강화된 적 1마리, 높은 보상

**보물방 (Treasure Room) - 20%**
**구성 요소**:
- **아이템 선택**: 3개 아이템 중 1개 선택
- **회복 옵션**: 체력/마나 회복 아이템
- **환경**: 화려한 장식, 보물상자들

**보물방 종류**:
- **장비 보물방**: 무기, 방어구, 액세서리
- **소비품 보물방**: 포션, 특수 아이템
- **혼합 보물방**: 다양한 종류 혼재
- **회복 보물방**: 체력/마나 회복 중심

**특수방 (Special Room) - 15%**
**상점 (Shop)**:
- **상인 NPC**: 떠돌이 상인
- **거래 아이템**: 포션, 일반 장비, 특수 아이템
- **화폐**: 소울 포인트로 구매
- **가격**: 허브 월드보다 20% 비싸지만 즉시 사용 가능

**제단 (Altar)**:
- **위험한 거래**: 체력 20 희생으로 강화 획득
- **랜덤 효과**: 공격력, 크리티컬, 이동속도 등 증가
- **한 번만 사용**: 같은 제단은 런당 1회만 이용 가능

**휴식방 (Rest Room)**:
- **완전 회복**: 체력/마나 100% 회복
- **세이브 포인트**: 현재 진행도 저장
- **안전 지대**: 적 출현 없음, 충분한 휴식 시간

**퍼즐방 (Puzzle Room)**:
- **간단한 퍼즐**: 스위치, 순서 맞추기 등
- **시간 제한**: 30초-1분 내 해결
- **보상**: 특수 아이템 또는 대량 소울 포인트

**보스방 (Boss Room) - 5%**
**구성 요소**:
- **층별 고유 보스**: 각 층마다 다른 보스
- **넓은 공간**: 일반 방의 2배 크기
- **특별한 환경**: 보스에 맞는 전용 배경

**보스방 특징**:
- **입구 봉인**: 전투 시작 시 출입구 봉쇄
- **단계별 전투**: 체력에 따른 패턴 변화
- **특별 연출**: 등장 애니메이션 및 대사
- **대량 보상**: 50-200 소울 포인트 + 층 진행

#### 던전 생성 알고리즘

**1단계: 기본 구조 생성**
1. **시작방 배치**: 던전 입구 역할
2. **보스방 배치**: 던전 출구 역할 (가장 멀리)
3. **주요 경로**: 시작방에서 보스방까지 최단 경로
4. **추가 경로**: 우회 경로 및 분기 생성

**2단계: 방 타입 할당**
1. **필수 방 배치**: 보스방 1개 확정
2. **확률 기반 배치**: 전투 60%, 보물 20%, 특수 15%, 보스 5%
3. **균형 조정**: 연속된 전투방 3개 이상 방지
4. **특수방 간격**: 특수방 사이 최소 2개 방 간격

**3단계: 적 및 아이템 배치**
1. **적 배치**: 방 크기와 층수에 따른 적 수량 결정
2. **적 타입**: 층수별 적 풀에서 랜덤 선택
3. **아이템 배치**: 보물방 아이템 등급 결정
4. **밸런싱**: 전체 난이도 조정

**4단계: 경로 최적화**
1. **최소 경로 보장**: 시작방→보스방 최소 경로 존재
2. **막다른 길 처리**: 모든 방이 최소 2개 출구 보유
3. **순환 경로**: 일부 구간에 순환 경로 추가
4. **최종 검증**: 진행 불가능한 구조 제거

### 진행 시스템

#### 방 탐험 과정
1. **방 진입**: 이전 방에서 출구 선택
2. **로딩**: 0.5초 로딩 시간 (방 생성)
3. **적 스폰**: 전투방의 경우 적들 등장
4. **전투/이벤트**: 방 타입에 따른 활동
5. **완료**: 조건 달성 시 출구 활성화
6. **다음 방 선택**: 여러 출구 중 하나 선택

#### 미니맵 시스템
**표시 정보**:
- **현재 위치**: 플레이어 위치 (파란 점)
- **방문한 방**: 회색으로 표시
- **인접한 방**: 흐린 윤곽선으로 표시
- **방 타입**: 색상으로 구분

**색상 코드**:
- **전투방**: 빨간색
- **보물방**: 노란색
- **특수방**: 파란색
- **보스방**: 보라색
- **완료된 방**: 회색

**업그레이드 기능**:
- **상세 정보**: 적 수, 아이템 정보 미리보기
- **최적 경로**: 목표까지 최단 경로 표시
- **위험도 표시**: 방의 난이도 수치 표시

---

**문서 관리 정보**
- **연관 문서**: [02. 스토리 & 세계관](./02-story-worldbuilding.md), [04. 기술 아키텍처](./04-technical-architecture.md)
- **업데이트 이력**: v1.0 (2025-09-28) - 초기 생성
- **리뷰 상태**: 검토 필요